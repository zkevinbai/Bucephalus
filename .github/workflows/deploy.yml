name: Verify Deployment

# Verify deployment files on every push to master
# (Build happens locally via Husky pre-commit hook before commit)
on:
  push:
    branches:
      - master

jobs:
  verify-deployment:
    runs-on: ubuntu-latest
    permissions:
      contents: read
    
    steps:
      - name: Checkout master branch
        uses: actions/checkout@v4
      
      - name: Verify docs folder exists
        run: |
          if [ ! -d "docs" ]; then
            echo "❌ Deployment failed: docs directory not found"
            echo "⚠️  Make sure you build locally before committing (Husky pre-commit hook should handle this)"
            exit 1
          fi
          if [ ! -f "docs/index.html" ]; then
            echo "❌ Deployment failed: docs/index.html not found"
            exit 1
          fi
          echo "✓ Deployment files verified - docs/ folder is ready"
          echo "✓ GitHub Pages will serve from the committed docs/ folder"
          ls -la docs/ | head -10

